{"version":3,"file":"addlink.min.js","sources":["../src/addlink.js"],"sourcesContent":["import ModalEvents from 'core/modal_events';\r\nimport $ from 'jquery';\r\nimport Pending from 'core/pending';\r\nimport Prefetch from 'core/prefetch';\r\nimport ModalSaveCancel from 'core/modal_save_cancel';\r\nimport Notification from 'core/notification';\r\nimport Config from 'core/config';\r\nimport ModalForm from 'core_form/modalform';\r\n\r\nconst Selectors = {\r\n    addBtn: '.linkman-add',\r\n};\r\n\r\nfunction initForm(e) {\r\n    e.preventDefault();\r\n    const element = e.target;\r\n    const modalForm = getForm(element);\r\n    modalForm.addEventListener(modalForm.events.FORM_SUBMITTED, (e) => window.console.log(e));\r\n    // Show the form.\r\n    modalForm.show();\r\n}\r\n\r\nfunction getForm(element) {\r\n    const modalForm = new ModalForm({\r\n        formClass: \"local_linkman\\\\form\\\\link_add_form\",\r\n        // Add as many arguments as you need, they will be passed to the form:\r\n        args: {id: element.getAttribute('data-id')},\r\n        // Pass any configuration settings to the modal dialogue, for example, the title:\r\n        modalConfig: {title: \"Add external link\"},\r\n        // DOM element that should get the focus after the modal dialogue is closed:\r\n        returnFocus: element,\r\n    });\r\n    return modalForm;\r\n}\r\nfunction init() {\r\n    console.log(\"inited=====\");\r\n    $(Selectors.addBtn).on('click',e => {\r\n        console.log('clicked', e)\r\n        initForm(e)\r\n    });\r\n\r\n}\r\n\r\nexport {\r\n    init\r\n}\r\n\r\n"],"names":["console","log","Selectors","on","e","preventDefault","modalForm","element","ModalForm","formClass","args","id","getAttribute","modalConfig","title","returnFocus","getForm","target","addEventListener","events","FORM_SUBMITTED","window","show","initForm"],"mappings":"4cAmCIA,QAAQC,IAAI,mCACVC,kBAAkBC,GAAG,SAAQC,IAC3BJ,QAAQC,IAAI,UAAWG,YAxBbA,GACdA,EAAEC,uBAEIC,mBAMOC,gBACK,IAAIC,mBAAU,CAC5BC,UAAW,qCAEXC,KAAM,CAACC,GAAIJ,QAAQK,aAAa,YAEhCC,YAAa,CAACC,MAAO,qBAErBC,YAAaR,UAdCS,CADFZ,EAAEa,QAElBX,UAAUY,iBAAiBZ,UAAUa,OAAOC,gBAAiBhB,GAAMiB,OAAOrB,QAAQC,IAAIG,KAEtFE,UAAUgB,OAmBNC,CAASnB,uYA7BXF,iBACM"}